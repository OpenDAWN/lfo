!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.lfpGraph=e()}}(function(){return function e(t,n,r){function o(u,s){if(!n[u]){if(!t[u]){var d="function"==typeof require&&require;if(!s&&d)return d(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t){"use strict";var n=e("./node"),r=function(){function e(t){var r=arguments[1];void 0===r&&(r={});var o=arguments[2];if(void 0===o&&(o=null),!(this instanceof e))return new e(t,r,o);this.nodes={},this.typeCount={},this.rootNode=null;var i=new n(this,t(r));this.add(null,i,o)}var t=Object.defineProperty;return t(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),e.prototype.add=function(e,t){var n=arguments[2];if(void 0===n&&(n=null),n=n||t.lfp.type,this.typeCount[n]=this.typeCount[n]+1||0,n=0===this.typeCount[n]?n:""+n+("-"+this.typeCount[n]),t.id=n,e){this.nodes[e.id]||console.error("Parent didnt register correctly");var r=this.get(e.id);r.nodes.push(t.id)}else this.rootNode=n;return this.nodes[t.id]=t,n},e.prototype.remove=function(e){var t=this;e.nodes.length>0&&(e.nodes.forEach(function(e){var n=t.get(e);t.remove(n),delete t.nodes[e]}),e.nodes=[])},e.prototype.pipe=function(e){var t=arguments[1];void 0===t&&(t={});var r=arguments[2];void 0===r&&(r=null);var o=e(t),i=new n(this,o),u=this.get(this.rootNode);return u.lfp.add(o),this.add(u,i,r),i},e.prototype.get=function(e){return this.nodes[e]},e.prototype.toString=function(){return this.nodes},e}();t.exports=r},{"./node":2}],2:[function(e,t){"use strict";var n=function(){function e(e,t){this.graph=e,this.lfp=t,this.nodes=[]}var t=Object.defineProperty;return t(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),e.prototype.pipe=function(t){var n=arguments[1];void 0===n&&(n={});var r=arguments[2];void 0===r&&(r=null);var o=t(n),i=new e(this.graph,o);return this.lfp.add(o),this.graph.add(this,i,r),i},e.prototype.remove=function(){this.graph.remove(this),this.lfp.remove(this)},e}();t.exports=n},{}]},{},[1])(1)});